<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="HTML5 Audio Spectrum Visualizer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML5 Audio 音频可视化</title>
    <link type="text/css" rel="stylesheet" href="css/main.css">
    <link type="text/css" rel="stylesheet" href="css/player.css">
    <script src="js/player.js" type="text/javascript"></script>
    <style>
        #showBox {
            width: 560px;
            height: auto;
            position: relative;
            top: 100px;
            margin: 0 auto;
        }
    </style>
    <script>
    </script>
</head>
<body>
<div id="showBox">
    <canvas id="show" width="560" height="350"></canvas>
</div>

<div class="playBox">
    <div id="player">
        <div id="playerControl"></div>
        <div id="playerShow">
            <div id="playerTime"></div>
            <div id="progress">
                <div id="playerProgressBar"></div>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    var play = new Player();
    play.config({
        autoPlay: true,//自动播放
        canvasId: "show",//canvas标签id
        button:{//设置生成的控制按钮,不设置button默认全部创建
            prev:true,//上一首
            play:true,//播放,暂停
            next:true,//下一首
            volume:true//音量
        },
        playList: [//播放列表,mp3地址不可跨域,需要在服务器模式下
            {
                title: "1",//音乐标题
                mp3: "music/1.mp3",//音乐路径
            },
            {
                title: "2",
                mp3: "music/2.mp3",
            },
            {
                title: "3",
                mp3: "music/3.mp3",
            },
            {
                title: "4",
                mp3: "music/4.mp3",
            }
        ]
    });
    //随机背景
    function changBg() {
        var bgArray = [
            'images/bg_1.jpg',
            'images/bg_2.jpg',
            'images/bg_3.jpg',
            'images/bg_4.jpg',
        ];
        document.body.style.background = "url(" + bgArray[Math.floor(Math.random() * bgArray.length)] + ")";
        document.body.style.backgroundSize = "100% 100%";
    }
    changBg();
</script>
</html>
